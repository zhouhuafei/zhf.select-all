"use strict";var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array"),eventDelegate=require("zhf.event-delegate");function SelectAll(e){this.opts=extend({items:null,isOpenEventDelegate:!1,isFilterDisabled:!0,isUseCheckboxBtnSelectAll:!1,checkboxBtn:null,callback:{click:function(){}}},e),this.init()}SelectAll.prototype.init=function(){this.itemsDom=getDomArray(this.opts.items),this.power()},SelectAll.prototype.selectNothing=function(){var e=this,t=e.opts;t.isOpenEventDelegate&&(e.itemsDom=getDomArray(t.items)),e.itemsDom.forEach(function(e){t.isFilterDisabled&&e.disabled||(e.checked=!1)})},SelectAll.prototype.selectAll=function(){var e=this,t=e.opts;t.isOpenEventDelegate&&(e.itemsDom=getDomArray(t.items)),e.itemsDom.forEach(function(e){t.isFilterDisabled&&e.disabled||(e.checked=!0)})},SelectAll.prototype.selectReverse=function(){var e=this,t=e.opts;t.isOpenEventDelegate&&(e.itemsDom=getDomArray(t.items)),e.itemsDom.forEach(function(e){t.isFilterDisabled&&e.disabled||(e.checked=!e.checked)})},SelectAll.prototype.isSelectAll=function(){var e=this,t=e.opts;t.isOpenEventDelegate&&(e.itemsDom=getDomArray(t.items));var l=!0;return e.itemsDom.forEach(function(e){t.isFilterDisabled&&e.disabled||!1===e.checked&&(l=!1)}),l},SelectAll.prototype.power=function(){var e=this,t=e.opts,l=t.isUseCheckboxBtnSelectAll,i=document.querySelector(t.checkboxBtn),c="checkbox"===i.type;l&&c&&(i.isBindSelectAllClick||(i.isBindSelectAllClick=!0,i.addEventListener("click",function(){this.checked?e.selectAll():e.selectNothing()}))),t.isOpenEventDelegate?document.isBindSelectAllClick||(document.isBindSelectAllClick=!0,eventDelegate.on(document,"click",t.items,function(){var s=e.isSelectAll();l&&c&&(i.checked=s),t.callback.click({element:this,isCheckedAll:s})})):e.itemsDom.forEach(function(s){s.isBindSelectAllClick||(s.isBindSelectAllClick=!0,s.addEventListener("click",function(){var s=e.isSelectAll();l&&c&&(i.checked=s),t.callback.click({element:this,isCheckedAll:s})}))})},module.exports=SelectAll;