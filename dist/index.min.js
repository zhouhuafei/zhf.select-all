"use strict";var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array"),eventDelegate=require("zhf.event-delegate");function SelectAll(e){this.opts=extend({items:null,isOpenEventDelegate:!1,callback:{click:function(){}}},e),this.init()}SelectAll.prototype.init=function(){this.itemsDom=getDomArray(this.opts.items),this.power()},SelectAll.prototype.selectNothing=function(){this.opts.isOpenEventDelegate&&(this.itemsDom=getDomArray(this.opts.items)),this.itemsDom.forEach(function(e){e.checked=!1})},SelectAll.prototype.selectAll=function(){this.opts.isOpenEventDelegate&&(this.itemsDom=getDomArray(this.opts.items)),this.itemsDom.forEach(function(e){e.checked=!0})},SelectAll.prototype.selectReverse=function(){this.opts.isOpenEventDelegate&&(this.itemsDom=getDomArray(this.opts.items)),this.itemsDom.forEach(function(e){e.checked=!e.checked})},SelectAll.prototype.isSelectAll=function(){this.opts.isOpenEventDelegate&&(this.itemsDom=getDomArray(this.opts.items));var e=!0;return this.itemsDom.forEach(function(t){!1===t.checked&&(e=!1)}),e},SelectAll.prototype.power=function(){var e=this;e.opts.isOpenEventDelegate?eventDelegate.on(document,"click",e.opts.items,function(){e.opts.callback.click({element:this,isCheckedAll:e.isSelectAll()})}):this.itemsDom.forEach(function(t){t.isBindSelectAllClick||t.addEventListener("click",function(){t.isBindSelectAllClick=!0,e.opts.callback.click({element:this,isCheckedAll:e.isSelectAll()})})})},module.exports=SelectAll;